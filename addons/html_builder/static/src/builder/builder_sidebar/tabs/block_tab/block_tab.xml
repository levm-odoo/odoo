<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

<t t-name="html_builder.BlockTab">
    <div>Categories</div>
    <div class="container">
        <div class="row">
            <div t-foreach="this.props.snippetModel.snippetGroups" t-as="snippet" t-key="snippet.id" class="col-4 p-1 o_draggable" t-att-data-category="'snippet_groups'" t-att-data-id="snippet.id">
                <div class="w-100 h-100 d-flex flex-column block" t-att-class="snippet.moduleId ? 'to_install' : '' " t-on-click="() => this.openSnippetDialog(snippet)">
                    <div class="img-container">
                        <img t-att-src="snippet.thumbnailSrc" class="w-100"/>
                        <button t-if="snippet.moduleId" class="btn btn-primary" t-on-click="() => this.props.installSnippetModule(snippet)">Install</button>
                    </div>
                    <span class="text-center" t-esc="snippet.title"/>
                </div>
            </div>
        </div>
    </div>

    <t t-if="this.props.snippetModel.hasCustomInnerContents">
        <div>Custom Inner Content</div>
        <div t-foreach="this.props.snippetModel.snippetCustomInnerContents" t-as="snippet" t-key="snippet.id" class="p-1 o_draggable custom-inner-content" t-att-name="snippet.title" t-att-data-category="'snippet_custom_content'" t-att-data-id="snippet.id">
            <div class="thumbnail">
                <div class="thumbnail-img" t-attf-style="background-image: url({{snippet.thumbnailSrc}});"/>
                <t t-if="snippet.renaming">
                    <div class="rename-input w-100 mx-1">
                        <input type="text" autocomplete="chrome-off" t-att-value="snippet.title" class="text-start" t-on-pointerdown="(ev) => ev.stopPropagation()"/>
                        <button class="o_we_text_success fa fa-check btn btn-outline-success border-0"
                                data-tooltip="Confirm"
                                t-on-click="(ev) => {
                                    this.renameCustomInnerContent(ev, snippet);
                                    snippet.renaming = false;
                                }"/>
                        <button class="o_we_text_danger fa fa-times btn btn-outline-danger border-0"
                                data-tooltip="Cancel"
                                t-on-click="() => snippet.renaming = false"/>
                    </div>
                </t>
                <t t-else="">
                    <span class="thumbnail-title" t-esc="snippet.title"/>
                </t>
            </div>
            <div t-if="!snippet.renaming" class="rename-delete-buttons float-end">
                <button class="fa fa-pencil btn o_we_hover_success"
                        t-attf-data-tooltip="Rename {{snippet.title}}"
                        t-on-click.stop="() => snippet.renaming = true"/>
                <button class="fa fa-trash btn o_we_hover_danger"
                        t-attf-data-tooltip="Delete {{snippet.title}}"
                        t-on-click="() => this.props.snippetModel.deleteCustomSnippet(snippet)"/>
            </div>
        </div>
    </t>

    <div>Inner Content</div>
    <div class="container">
        <div class="row">
            <div t-foreach="this.props.snippetModel.snippetInnerContents" t-as="snippet" t-key="snippet.id" class="col-4 p-1 o_draggable" t-att-name="snippet.title" t-att-data-category="'snippet_content'" t-att-data-id="snippet.id">
                <div class="w-100 h-100 d-flex flex-column block" t-att-class="snippet.moduleId ? 'to_install' : '' ">
                    <div class="img-container">
                        <img t-att-src="snippet.thumbnailSrc" class="w-100"/>
                        <button t-if="snippet.moduleId" class="btn btn-primary" t-on-click="() => this.props.installSnippetModule(snippet)">Install</button>
                    </div>
                    <span class="text-center" t-esc="snippet.title"/>
                </div>
            </div>
        </div>
    </div>
</t>

</templates>
