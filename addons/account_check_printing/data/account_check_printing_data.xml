<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <data noupdate="1">

        <record id="account_payment_method_check" model="account.payment.method">
            <field name="name">Checks</field>
            <field name="code">check_printing</field>
            <field name="payment_type">outbound</field>
        </record>

        <record model="ir.actions.server" id="action_account_print_checks">
            <field name="name">Print Checks</field>
            <field name="model_id" ref="account.model_account_payment"/>
            <field name="binding_model_id" ref="account.model_account_payment" />
            <field name="binding_view_types">list</field>
            <field name="groups_id" eval="[(4, ref('account.group_account_user'))]"/>
            <field name="state">code</field>
            <field name="code">
if records:
    action = records.print_checks()
            </field>
        </record>

        <record id="check_paperformat" model="report.paperformat">
            <field name="name">Check Paper Format</field>
            <field name="default" eval="False" />
            <field name="format">custom</field>
            <field name="page_height">0</field> <!-- Height in mm -->
            <field name="page_width">0</field> <!-- Width in mm -->
            <field name="orientation">Portrait</field>
            <field name="margin_top">0</field>
            <field name="margin_bottom">0</field>
            <field name="margin_left">0</field>
            <field name="margin_right">0</field>
            <field name="header_line" eval="False" />
            <field name="header_spacing">0</field>
            <field name="dpi">90</field>
        </record>

        <record id="action_print_check" model="ir.actions.report">
            <field name="name">Defualt (Custom)</field>
            <field name="model">account.payment</field>
            <field name="report_type">qweb-pdf</field>
            <field name="report_name">account_check_printing.print_check</field>
            <field name="report_file">account_check_printing.print_check</field>
            <field name="print_report_name">'Check - %s' % (object.partner_id.name or '',)</field>
            <field name="paperformat_id" ref="account_check_printing.check_paperformat"/>
            <field name="attachment">'check_'+(object.partner_id and object.partner_id.name or 'Internal')+'_'+(object.name)+'_top.pdf'</field>
            <field name="attachment_use">True</field>
        </record>

    </data>
</odoo>
