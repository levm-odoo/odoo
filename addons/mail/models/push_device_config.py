from odoo import fields, models


class PushDeviceConfig(models.AbstractModel):
    _name = "push.device.config"
    _description = "Push Device Config"

    endpoint = fields.Char(string='Browser endpoint', required=True)
    keys = fields.Char(string='Browser keys', required=True,
                       help=("It's refer to browser keys used by the notification: \n"
                             "- p256dh: It's the subscription public key generated by the browser. The browser will \n"
                             "          keep the private key secret and use it for decrypting the payload\n"
                             "- auth: The auth value should be treated as a secret and not shared outside of Odoo"))
    expiration_time = fields.Datetime(string='Expiration Token Date')

    _endpoint_unique = models.Constraint(
        'unique(endpoint)',
        'The endpoint must be unique !')
