<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">
    <t t-inherit="mail.ChatWindow" t-inherit-mode="extension">
        <xpath expr="//*[@name='thread content']" position="replace">
           <FeedbackPanel t-if="props.chatWindow.hasFeedbackPanel" onClickClose="() => this.close()" onClickNewSession="() => this.onClickNewSession()" thread="thread"/>
           <t t-else="">
            <t>$0</t>
            <t t-if="this.livechatState.showCloseConfirmation">
                <CloseConfirmation onCloseConfirmationDialog.bind="onCloseConfirmationDialog" onClickLeaveConversation.bind="close"/>
            </t>
           </t>
        </xpath>
        <xpath expr="//*[@t-ref='needactionCounter']" position="replace">
            <t t-if="!chatbotService.chatbot">$0</t>
        </xpath>
        <xpath expr="//*[hasclass('o-mail-ChatWindow-header')]" position="attributes">
            <attribute name="t-attf-style" add="color: {{ livechatService.options.title_color }}; background-color: {{ livechatService.options.header_background_color }} !important;" separator=" "/>
        </xpath>
        <xpath expr="//Composer" position="replace">
            <t t-if="chatbotService.inputEnabled">$0</t>
            <div t-else="" class="bg-200 d-flex justify-content-center">
                <span t-if="chatbotService.chatbot.completed" class="flex-grow-1"/>
                <span class="text-center py-1 fst-italic flex-grow-1" t-esc="chatbotService.inputDisabledText"/>
                <button t-if="chatbotService.chatbot.completed" class="btn btn-link btn-sm me-1" t-on-click="onClickContinue">Continue</button>
            </div>
        </xpath>
    </t>
</templates>
