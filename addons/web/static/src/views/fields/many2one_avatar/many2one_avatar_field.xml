<?xml version="1.0" encoding="UTF-8"?>
<templates xml:space="preserve">

    <t t-name="web.Many2OneAvatarField">
        <Many2One t-props="many2oneProps">
            <t t-set-slot="decoration">
                <span class="o_avatar o_m2o_avatar">
                    <t t-if="controller.value !== false">
                        <img class="rounded" t-attf-src="/web/image/{{controller.relation}}/{{controller.value[0]}}/avatar_128"/>
                    </t>
                    <t t-elif="!props.readonly">
                        <span class="o_avatar_empty o_m2o_avatar_empty"/>
                    </t>
                </span>
            </t>
            <t t-set-slot="item" t-slot-scope="itemScope">
                <span class="o_avatar o_m2o_avatar">
                    <img class="rounded me-1" t-attf-src="/web/image/{{controller.relation}}/{{itemScope.record.id}}/avatar_128"/>
                    <t t-esc="itemScope.record.display_name"/>
                </span>
            </t>
        </Many2One>
    </t>

</templates>
